---
description: Instructions for internationalization
applyTo: "**"
---

# Internationalization Guidelines

## Supported Locales

- `en` - English (default)
- `es` - Spanish

## URL Structure

All routes use locale prefix: `/{locale}/...`
- `/en/trees/ceiba`
- `/es/trees/ceiba`

## Translation Files

Located in `messages/{locale}.json`:

```json
{
  "namespace": {
    "key": "Translated text"
  }
}
```

## Using Translations in Components

### Client Components
```tsx
"use client";
import { useTranslations } from "next-intl";

export function MyComponent() {
  const t = useTranslations("namespace");
  return <p>{t("key")}</p>;
}
```

### Server Components
```tsx
import { getTranslations } from "next-intl/server";

export async function MyServerComponent() {
  const t = await getTranslations("namespace");
  return <p>{t("key")}</p>;
}
```

## Navigation

Always use the i18n-aware Link:
```tsx
import { Link } from "@i18n/navigation";
<Link href="/trees">Trees</Link>
```

This automatically handles locale prefixing.

## Adding New Translations

1. Add keys to BOTH `messages/en.json` AND `messages/es.json`
2. Use nested namespaces for organization
3. Use ICU message format for plurals/variables:
   ```json
   "itemCount": "{count, plural, =0 {No items} =1 {1 item} other {# items}}"
   ```

## Content Files

Tree MDX files are organized by locale:
- `content/trees/en/` - English content
- `content/trees/es/` - Spanish content

Same slug must exist in both directories.
